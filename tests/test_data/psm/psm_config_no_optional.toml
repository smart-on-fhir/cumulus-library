# This is a config file for generating a propensity score matching (PSM) definition. 

# You can use this for selecting records for an expert review process, and you can 
# also use it to generate statistics around your population that meets your selection
# criteria versus those that do not.

# This attempts to handle the complexities of generating SQL queries for you,
# but you do need to know a little bit about what your data looks like in the
# database. We recommend that you only attempt to use this after you have decided
# on the first draft of your cohort selection criteria

# classification_json should reference a file in the same directory as this config,
# which matches a category to a set of ICD codes. As an example, we are using the
# DSM5 classification guide, but this could be a user-curated set of condition labels
classification_json = "dsm5_classifications.json"

# pos_source_table should be a curated table built as part of a study, which
# has entities matching your selection criteria (probably patients, but it could
# be another base FHIR resource)
pos_source_table = "core__psm_cohort"

# neg_source_table should be the primary table your positive source was built from,
# i.e. it should contain all members that weren't identified as part of your cohort.
# It should be one of the base FHIR resource tables
neg_source_table = "core__condition"

# target_table should be the name of the table you're storing your PSM cohort in. It 
# should be prefixed by 'studyname__'
target_table = "core__psm_encounter_covariate"

# primary_ref should be the column name from your pos_source_table that is the item
# of interest. it should have the same name as it did when it was selected 
#from neg_source_table
primary_ref = 'encounter_ref'

# dependent_variable is the name to use for identifying which cohort a record is in.
# It should be phrased such that a value of true would indicate it is originally from
# your pos_source_table.
dependent_variable = "example_diagnosis"

# pos_sample_size is the number of records to select from your pos_source_table.
# It should be no smaller than 20.
pos_sample_size = 5

# neg_sample_size is the number of records to select from your neg_source_table.
# It should be no smaller than 20.
neg_sample_size = 10

# You can, if needed, select a new random seed value for count sampling. This is used
# to make sure that, for a given population, you'll always get the same sample set
# for repeatability. You probably don't need to change this in most cases.
 seed = 1234567890
