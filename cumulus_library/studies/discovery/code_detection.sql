-- noqa: disable=all
/*
This is a reference output of the SQL generated by builder_code_detection.py 
that is used by the core__encounter_type table. It is not invoked directly.
*/

CREATE TABLE output_table AS
SELECT DISTINCT
    'hasarray' AS table_name,
    'acol' AS column_name,
    t2.row2.code,
    t2.row2.display,
    t2.row2.system
FROM hasarray,
UNNEST(acol) AS t1 (row1),
UNNEST(t1.row1.coding) AS t2 (row2)
UNION
SELECT DISTINCT
    'noarray' AS table_name,
    'col' AS column_name,
    t.row.code,
    t.row.display,
    t.row.system
FROM noarray,
UNNEST(col.coding) AS t (row)
UNION
SELECT DISTINCT
    'bare' AS table_name,
    'bcol' AS column_name,
    bcol.code,
    bcol.display,
    bcol.system
FROM bare
UNION
SELECT * 
    FROM ( 
        VALUES (
            ('empty','empty', '', '', '')
        )
    )
AS t ( table_name, column_name, code, display, system ) -- noqa: L025